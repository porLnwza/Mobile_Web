<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡πâ‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ Dekkapo</title>
    <!-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö Bootstrap ‡πÅ‡∏•‡∏∞ Font Awesome ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏õ‡∏∏‡πà‡∏° */
        body { background-color: #ffffff; }
        .card-custom { border-radius: 15px; }
        .btn-custom-search { 
            background-color: #96f6f9; 
            color: rgb(0, 0, 0); 
            border: none;    
            padding: 0.375rem 0.75rem; 
            border-radius: 4px; 
            transition: background-color 0.3s;
        }
        .btn-custom-search:hover { background-color: #0000002f; }
    </style>
</head>
<body>

<!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
<form action="{{ url_for('home') }}" method="POST">
    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≤‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å -->
    <nav class="navbar navbar-expand-lg navbar-light bg-primary shadow-sm mb-4">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">üì±‡∏£‡πâ‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ Dekkapo</a>
            <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå -->
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="customer_name">Name Customer</a></li>
                    <li class="nav-item"><a class="nav-link" href="mobile_version">Mobile version</a></li>
                    <li class="nav-item"><a class="nav-link" href="stock">Stock</a></li>
                    <li class="nav-item"><a class="nav-link" href="stockgrp">Stockgrp</a></li>
                    <li class="nav-item"><a class="nav-link" href="sale">Sale</a></li>
                    <li class="nav-item"><a class="nav-link" href="orders">Order</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ -->
    <div class="container">
        <div class="card mb-4 card-custom p-3">
            <h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ -->
            <select name="customer" class="form-select mb-3">
                <option>---‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤---</option>
                {% for row in data_Customer %}
                    <option value="{{ row[0] }}" {% if selected_customer == row[0] %} selected {% endif %}>
                        {{ row[2] }} {{ row[3] }}
                    </option>
                {% endfor %}
            </select>

            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå -->
            <select name="selected_phone" class="form-select mb-3">
                <option>---‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå---</option>
                {% for row in data_Customer %}
                    <option value="{{ row[5] }}" {% if selected_phone == row[5] %} selected {% endif %}>
                        {{ row[5] if row[5] else '‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå' }}
                    </option>
                {% endfor %}
            </select>

            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ -->
            <select name="customer_group" class="form-select mb-3">
                <option>---‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤---</option>
                {% for row in data_Customer_grp %}
                    <option value="{{ row[1] }}" {% if customer_group == row[0] %} selected {% endif %}>
                        {{ row[1] }}
                    </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
    <div class="d-flex justify-content-center">
        <button class="btn btn-primary" type="submit" name="button_search">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </div>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∏‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
    <div class="container">
        <div class="card mb-4 card-custom p-3">
            <h5>üîç ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∏‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠</h5>
            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ -->
            <select name="select_stock" class="form-select mb-3" >
                <option>---‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô---</option>
                {% for row in data_stock[:14] %}
                <option value="{{ row[4] }}" {% if select_stock == row[4] %} selected {% endif %}>
                    {{ row[4] }}
                </option>
                {% endfor %}
            </select>

            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ -->
            <select class="form-select mb-3" name="network" >
                <option>---‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢---</option>
                <option>AIS</option>
                <option>DTAC</option>
                <option>TrueMoveH</option>
            </select>
        </div>
    </div>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
    <div
    v class="container">
        <div class="card mb-4 card-custom p-3">
            <h5>üì±‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</h5>
            <!-- Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á -->
            <select class="form-select mb-3" name="quantity">
                <option>---‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á---</option>
                <option>1 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                <option>2 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                <option>3 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                <option>4 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                <option>5 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                <option>6 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
            </select>
            <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
            <div class="container mt-2">
                <div class="d-flex gap-2 mb-2">
                    <button class="btn btn-success" type="submit" name="button_add">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                </div>
                <h1>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h1>
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</th>
                            <th>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                            <th>‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢</th>
                            <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                            <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for order in all_orders %}
                        <tr>
                            <td>{{ order.customerName }}</td>
                            <td>{{ order.model }}</td>
                            <td>{{ order.network }}</td>
                            <td>{{ order.customerGroup }}</td>
                            <td>{{ order.quantity }}</td>
                            <td>{{ order.phone }}</td>
                        </tr>
                        {% else %}
                        <tr>
                            <td colspan="6">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                                    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
                                    <button type="button" class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#editModal{{ order.id }}">
                                        <i class="fas fa-edit"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Çüìé
                                    </button>
                                    
                                    <!-- Modal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
                                    <div class="modal fade" id="editModal{{ order.id }}" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <form action="{{ url_for('edit_product') }}" method="POST">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="editModalLabel">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h5>
                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
                                                        <input type="hidden" name="product_id" value="{{ order.id }}">
                                    
                                                        <!-- ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
                                                        <div class="mb-3">
                                                            <label for="edit_customerName" class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label>
                                                            <select name="edit_customerName" class="form-select">
                                                                {% for row in data_Customer %}
                                                                    <option value="{{ row[0] }}" {% if row[0] == order.customerName %} selected {% endif %}>
                                                                        {{ row[2] }} {{ row[3] }}
                                                                    </option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                    
                                                        <div class="mb-3">
                                                            <label for="edit_model" class="form-label">‡∏£‡∏∏‡πà‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                                                            <input type="text" class="form-control" name="edit_model" value="{{ order.model }}">
                                                        </div>
                                    
                                                        <div class="mb-3">
                                                            <label for="edit_network" class="form-label">‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢</label>
                                                            <input type="text" class="form-control" name="edit_network" value="{{ order.network }}">
                                                        </div>
                                    
                                                        <div class="mb-3">
                                                            <label for="edit_customerGroup" class="form-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label>
                                                            <select name="edit_customerGroup" class="form-select">
                                                                {% for row in data_Customer_grp %}
                                                                    <option value="{{ row[1] }}" {% if row[1] == order.customerGroup %} selected {% endif %}>
                                                                        {{ row[1] }}
                                                                    </option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                    
                                                        <div class="mb-3">
                                                            <label for="edit_quantity" class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                                                            <input type="number" class="form-control" name="edit_quantity" value="{{ order.quantity }}">
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">‡∏õ‡∏¥‡∏î</button>
                                                        <button type="submit" class="btn btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    <form action="{{ url_for('cancel_product') }}" method="POST" style="display:inline-block;">
                                        <input type="hidden" name="product_id" value="{{ order.id }}">
                                        <button class="btn btn-warning btn-sm" type="submit" name="button_cancel" id="cancelButton">
                                            <i class="fas fa-ban"></i> ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                                        </button>
                                    </form>
                                    
                                    <script>
                                        // ‡∏Ñ‡∏≥‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
                                        document.getElementById("cancelButton").onclick = function(event) {
                                            if (!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
                                                event.preventDefault();  // ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
                                            }
                                        };
                                    </script>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</form>

<!-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏Å‡∏±‡∏ö JS ‡∏Ç‡∏≠‡∏á Bootstrap -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

</body>
</html>